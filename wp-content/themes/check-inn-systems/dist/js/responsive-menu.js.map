{"version":3,"sources":["../../assets/js/custom/responsive-menu.js"],"names":["document","$","undefined","genesisSample","mainMenuButtonClass","subMenuButtonClass","addClass","init","toggleButtons","menu","append","params","mainMenu","submenu","text","subMenu","length","before","each","_addClassID","window","on","_doResize","triggerHandler","_mainmenuToggle","_submenuToggle","$this","nav","next","id","attr","_combineMenus","css","prependTo","hide","show","appendTo","removeClass","buttons","_superfishToggle","_changeSkipLink","_maybeClose","_toggleAria","toggleClass","slideToggle","others","closest","siblings","find","slideUp","superfish","_getDisplayValue","startLink","endLink","link","replace","$id","element","getElementById","style","getComputedStyle","getPropertyValue","attribute","index","value","ready","resize","checkInnSystemsL10n","jQuery"],"mappings":"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","file":"responsive-menu.js","sourcesContent":["/**\n * Accessibility-ready responsive menu.\n */\n\n( function ( document, $, undefined ) {\n\n\t'use strict';\n\n\tvar genesisSample = {};\n\tvar\tmainMenuButtonClass = 'menu-toggle';\n\tvar\tsubMenuButtonClass  = 'sub-menu-toggle';\n\n\t$( 'body' ).addClass( 'js' );\n\n\tgenesisSample.init = function() {\n\n\t\tvar toggleButtons = {\n\t\t\tmenu : $( '<button />',{\n\t\t\t\t'class' : mainMenuButtonClass,\n\t\t\t\t'aria-expanded' : false,\n\t\t\t\t'aria-pressed' : false,\n\t\t\t\t'role' : 'button'\n\t\t\t}\n\n\t\t\t).append(genesisSample.params.mainMenu),\n\n\t\t\tsubmenu : $( '<button />', {\n\t\t\t\t'class' : subMenuButtonClass,\n\t\t\t\t'aria-expanded' : false,\n\t\t\t\t'aria-pressed' : false,\n\t\t\t\t'role' : 'button'\n\t\t\t}\n\n\t\t\t).append( $( '<span />', {\n\t\t\t\t'class' : 'screen-reader-text',\n\t\t\t\ttext : genesisSample.params.subMenu\n\t\t\t} ) )\n\t\t};\n\n\n\t\tif ($( '.nav-primary' ).length > 0 ) {\n\t\t\t$( '.nav-primary' ).before( toggleButtons.menu );\n\t\t} else {\n\t\t\t$( '.nav-header' ).before( toggleButtons.menu );\n\t\t}\n\n\n\t\t$( 'nav .sub-menu' ).before( toggleButtons.submenu ); // add the submenu nav buttons\n\t\t$( '.' + mainMenuButtonClass ).each( _addClassID );\n\t\t$( '.' + mainMenuButtonClass ).addClass('dashicons-before dashicons-menu');\n\t\t$( '.' + subMenuButtonClass ).addClass('dashicons-before dashicons-arrow-down');\n\t\t$( window ).on( 'resize.genesisSample', _doResize ).triggerHandler( 'resize.genesisSample' );\n\t\t$( '.' + mainMenuButtonClass ).on( 'click.genesisSample-mainbutton', _mainmenuToggle );\n\t\t$( '.' + subMenuButtonClass ).on( 'click.genesisSample-subbutton', _submenuToggle );\n\n\n\t};\n\n\n\t// add nav class and ID to related button\n\tfunction _addClassID() {\n\t\tvar $this = $( this ),\n\t\t\tnav   = $this.next( 'nav' ),\n\t\t\tid    = 'class';\n\t\tif ( $( nav ).attr( 'id' ) ) {\n\t\t\tid = 'id';\n\t\t}\n\t\t$this.attr( 'id', 'mobile-' + $( nav ).attr( id ) );\n\t}\n\n\n\t// check CSS rule to determine width\n\tfunction _combineMenus(){\n\t\tif ( ( $( '.js nav' ).css( 'position' ) == 'relative' ) && $( '.nav-primary' ).length > 0 ) { // depends on .js nav having position: relative; in style.css\n\t\t\t$( '.nav-header .menu > li' ).addClass( 'moved-item' ); // tag moved items so we can move them back\n\t\t\t$( '.nav-header .menu > li' ).prependTo( '.nav-primary ul.genesis-nav-menu' );\n\t\t\t$( '.nav-header' ).hide();\n\t\t} else if ( ( $( '.js nav' ).css( 'position' ) !== 'relative' ) && $( '.nav-primary' ).length > 0 ) {\n\t\t\t$( '.nav-header' ).show();\n\t\t\t$( '.nav-primary ul.genesis-nav-menu > li.moved-item' ).appendTo( '.nav-header .menu' );\n\t\t\t$( '.nav-header .menu > li' ).removeClass( 'moved-item' );\n\t\t}\n\t}\n\n\n\t// Change Skiplinks and Superfish\n\tfunction _doResize() {\n\t\tvar buttons = $( 'button[id^=\"mobile-\"]' ).attr( 'id' );\n\t\tif ( typeof buttons === 'undefined' ) {\n\t\t\treturn;\n\t\t}\n\t\t_superfishToggle( buttons );\n\t\t_changeSkipLink( buttons );\n\t\t_maybeClose( buttons );\n\t}\n\n\n\t/**\n\t * action to happen when the main menu button is clicked\n\t */\n\tfunction _mainmenuToggle() {\n\t\tvar $this = $( this );\n\t\t_toggleAria( $this, 'aria-pressed' );\n\t\t_toggleAria( $this, 'aria-expanded' );\n\t\t$this.toggleClass( 'activated' );\n\t\t$this.next( 'nav, .sub-menu' ).slideToggle( 'fast' );\n\t}\n\n\n\t/**\n\t * action for submenu toggles\n\t */\n\tfunction _submenuToggle() {\n\t\tvar $this  = $( this ),\n\t\t\tothers = $this.closest( '.menu-item' ).siblings();\n\t\t_toggleAria( $this, 'aria-pressed' );\n\t\t_toggleAria( $this, 'aria-expanded' );\n\t\t$this.toggleClass( 'activated' );\n\t\t$this.next( '.sub-menu' ).slideToggle( 'fast' );\n\n\t\tothers.find( '.' + subMenuButtonClass ).removeClass( 'activated' ).attr( 'aria-pressed', 'false' );\n\t\tothers.find( '.sub-menu' ).slideUp( 'fast' );\n\t}\n\n\n\t/**\n\t * activate/deactivate superfish\n\t */\n\tfunction _superfishToggle( buttons ) {\n\t\tif ( typeof $( '.js-superfish' ).superfish !== 'function' ) {\n\t\t\treturn;\n\t\t}\n\t\tif ( 'none' === _getDisplayValue( buttons ) ) {\n\t\t\t$( '.js-superfish' ).superfish( {\n\t\t\t\t'delay': 100,\n\t\t\t\t'animation': {'opacity': 'show', 'height': 'show'},\n\t\t\t\t'dropShadows': false\n\t\t\t});\n\t\t} else {\n\t\t\t$( '.js-superfish' ).superfish( 'destroy' );\n\t\t}\n\t}\n\n\n\t/**\n\t * modify skip links to match mobile buttons\n\t */\n\tfunction _changeSkipLink( buttons ) {\n\t\tvar startLink = 'genesis-nav',\n\t\t\tendLink   = 'mobile-genesis-nav';\n\n\t\tif ( 'none' === _getDisplayValue( buttons ) ) {\n\t\t\tstartLink = 'mobile-genesis-nav';\n\t\t\tendLink   = 'genesis-nav';\n\t\t}\n\n\t\t$( '.genesis-skip-link a[href^=\"#' + startLink + '\"]' ).each( function() {\n\t\t\tvar link = $( this ).attr( 'href' );\n\t\t\tlink = link.replace( startLink, endLink );\n\t\t\t$( this ).attr( 'href', link );\n\t\t});\n\t}\n\n\n\tfunction _maybeClose( buttons ) {\n\t\tif ( 'none' !== _getDisplayValue( buttons ) ) {\n\t\t\treturn;\n\t\t}\n\t\t$( '.menu-toggle, .sub-menu-toggle' )\n\t\t\t.removeClass( 'activated' )\n\t\t\t.attr( 'aria-expanded', false )\n\t\t\t.attr( 'aria-pressed', false );\n\t\t$( 'nav, .sub-menu' )\n\t\t\t.attr( 'style', '' );\n\t}\n\n\n\t/**\n\t * generic function to get the display value of an element\n\t * @param  {id} $id ID to check\n\t * @return {string}     CSS value of display property\n\t */\n\tfunction _getDisplayValue( $id ) {\n\t\tvar element = document.getElementById( $id ),\n\t\t\tstyle   = window.getComputedStyle( element );\n\t\treturn style.getPropertyValue( 'display' );\n\t}\n\n\n\t/**\n\t * Toggle aria attributes\n\t * @param  {button} $this     passed through\n\t * @param  {aria-xx} attribute aria attribute to toggle\n\t * @return {bool}           from _ariaReturn\n\t */\n\tfunction _toggleAria( $this, attribute ) {\n\t\t$this.attr( attribute, function( index, value ) {\n\t\t\treturn 'false' === value;\n\t\t});\n\t}\n\n\n\t$(document).ready(function () {\n\t\t// run test on initial page load\n\t\t_combineMenus();\n\n\t\t// run test on resize of the window\n\t\t$( window ).resize( _combineMenus );\n\n\t\tgenesisSample.params = typeof checkInnSystemsL10n === 'undefined' ? '' : checkInnSystemsL10n;\n\n\t\tif ( typeof genesisSample.params !== 'undefined' ) {\n\t\t\tgenesisSample.init();\n\t\t}\n\t});\n\n})( document, jQuery );\n"]}